context.modules = [
  {
    name = libpipewire-module-filter-chain
    args = {
      node.description = "Convolution Reverb Sink"
      media.name = "Reverb Sink"
      capture.props = {
        node.name = "input-reverb-source"
        node.passive = true
        audio.position = [ FL FR ]
        media.class = "Audio/Sink"
        audio.channels = 2
        audio.position = [ FL FR ]
      }

      playback.props = {
        node.name = "output-reverb-sink"
        media.class = "Audio/Sink"
        audio.position = [ FL FR ]
        audio.channels = 2
      }

      filter.graph = {
        nodes = [
          {
            type = builtin
            name = convolver
            label = convolver
            config = {
              filename = "/path/to/your/impulse/response/file.wav" 
              gain = 0.8 
              # blocksize and tailsize can be computed automatically 
              # or set for performance tuning (e.g., blocksize = 128)
            }
          }
        ]

        inputs = [ "convolver:In" ]
        outputs = [ "convolver:Out" ]
      }
    }
  }
]

